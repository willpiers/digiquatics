<div ng-show='(users | orderBy:order.value:order.reverse | filter:locationFilter | filter:search).length'>
  <table class='table table-hover'>
    <thead>
      <tr>
        <th class='visible-xs'>
          <a href="" ng-click="predicate.value = '-last_name'; reverse=!reverse">
            Name
          </a>
          <span ng-show="thArrow(predicate.value, '-last_name')">
            <dq-arrow></dq-arrow>
          </span>
        </th>
        <th class='hidden-xs'>
          <a href="" ng-click="predicate.value = '-last_name'; reverse=!reverse">
            Last Name
          </a>
          <span ng-show="thArrow(predicate.value, '-last_name')">
            <dq-arrow></dq-arrow>
          </span>
        </th>
        <th class='hidden-xs'>
          <a href="" ng-click="predicate.value = '-first_name'; reverse=!reverse">
            First Name
          </a>
          <span ng-show="thArrow(predicate.value, '-first_name')">
            <dq-arrow></dq-arrow>
          </span>
        </th>
        <th class='hidden-xs'>
          <a href="" ng-click="predicate.value = '-date_of_birth'; reverse=!reverse">
            Age
          </a>
          <span ng-show="thArrow(predicate.value, '-date_of_birth')">
            <dq-arrow></dq-arrow>
          </span>
        </th>
        <th class='hidden-xs'>
          <a href="" ng-click="predicate.value = '-location.name'; reverse=!reverse">
            Location
          </a>
          <span ng-show="thArrow(predicate.value, '-location.name')">
            <dq-arrow></dq-arrow>
          </span>
        </th>
        <th >
          <a href="" ng-click="predicate.value = '-position.name'; reverse=!reverse">
            Position
          </a>
          <span ng-show="thArrow(predicate.value, '-position.name')">
            <dq-arrow></dq-arrow>
          </span>
        </th>
        <th class='hidden-xs'>Email</th>
        <th>Phone</th>
        <th class='hidden-xs'>
          <a href="" ng-click="predicate.value = '-admin'; reverse=!reverse">
            Admin
          </a>
          <span ng-show="thArrow(predicate.value, '-admin')">
            <dq-arrow></dq-arrow>
          </span>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat='user in users | orderBy:predicate.value:reverse | filter:locationFilter | filter:search'>
        <td class='visible-xs'>
          <a ng-href='/users/{{user.id}}'>
            {{user.last_name}}, {{user.first_name}}
          </a>
        </td>
        <td class='hidden-xs'>
          <a ng-href='/users/{{user.id}}'>
            {{user.last_name}}
          </a>
        </td>
        <td class='hidden-xs'>{{user.first_name}}</td>
        <td class='hidden-xs'>{{user.date_of_birth | age}}</td>
        <td class='hidden-xs'>{{user.location.name}}</td>
        <td>{{user.position.name}}</td>
        <td class='hidden-xs'><%= mail_to '{{user.email}}' %></td>
        <td><a ng-href='tel:{{user.phone_number}}'>{{user.phone_number}}</td>
        <td class='hidden-xs'>{{user.admin | booleanToWords}}</td>
      </tr>
    </tbody>
  </table>
</div>

<div ng-hide='(users | orderBy:order.value:order.reverse | filter:locationFilter | filter:search).length'>
  <hr>
  <center>
    <p>
      No employees match this search or you have none yet.
        <%= link_to 'Click here to add an employee.',
            new_user_path %>
    </p>
  </center>
</div>

