<% provide(:title, "Edit user") %>
<h1>Update your profile</h1>

<div class="row" id="userform">
  <div class="span6 offset3">
    <%= form_for(@user) do |f| %>
      <%= render 'shared/error_messages' %>

      
      <%= f.label :first_name, "First Name" %>
      <%= f.text_field :first_name %>
 
      <%= f.label :last_name, "Last Name" %>
      <%= f.text_field :last_name %>

      <%= f.label :email %>
      <%= f.text_field :email %>

      <%= f.label :password %>
      <%= f.password_field :password %>

      <%= f.label :password_confirmation, "Confirm Password" %>
      <%= f.password_field :password_confirmation %>

      <%= f.label :sex %>
      <%= f.select :sex, options_for_select(%w[M F]) %>

      <%= f.label :suit_size, "Suit Size" %>
      <%= f.select :suit_size, options_for_select(%w[XS S M L XL XXL]) %>

      <%= f.label :shirt_size, "Shirt Size" %>
      <%= f.select :shirt_size, options_for_select(%w[XS S M L XL XXL]) %>

      <%= f.label :date_of_birth, "Date of Birth (yyyy-mm-dd)" %>
      <%= f.text_field :date_of_birth, :value=> f.object.date_of_birth.strftime('%Y-%m-%d') %>

      <%= f.label :date_of_hire, "Date of Hire (yyyy-mm-dd)" %>
      <% if current_user.admin? %>
          | <%= f.text_field :date_of_hire, :value=> f.object.date_of_hire.strftime('%Y-%m-%d')  %>
          <% else %>
          <br>
          Note: Only admins can change hire date. 
          <%= f.text_field :date_of_hire, :disabled => true, :value=> f.object.date_of_hire.strftime('%-m/%-d/%Y')  %>
        <% end %>
      <%=  %>

      <%= f.label :phone_number, "Phone Number" %>
      <%= f.telephone_field :phone_number %>

      <%= f.label :location_id %>
      <%= f.text_field :location_id %>

      <%= f.label :position_id %>
      <%= f.text_field :position_id %>

      <h4>Certifications</h4>

      <%= f.fields_for :certifications do |cert| %>
      <%= cert.label :expiration_date, 'Issued Date (Ex. yyyy-mm-dd)' %>
      <%= cert.text_field :expiration_date, :value=> cert.object.expiration_date.strftime('%Y-%m-%d')  %>
      
      <%= cert.label :expiration_date, 'Expiration Date (Ex. yyyy-mm-dd)' %>
        <% if current_user.admin? %>
          | <%= cert.text_field :expiration_date, :value=> cert.object.expiration_date.strftime('%Y-%m-%d')  %>
          <% else %>
          <br>
          Note: Only admins can change expiration date. 
          <%= cert.text_field :expiration_date, :disabled => true, :value=> cert.object.expiration_date.strftime('%-m/%-d/%Y')  %>
        <% end %>

          <%= cert.file_field :attachment %>
          <br>

      <% end %>

        <center>
        <%= f.submit "Save changes", class: "btn btn-primary" %>
        </center>
      <% end %>

    </div>
</div>    



