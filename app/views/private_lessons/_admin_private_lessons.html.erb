<table class='table table-hover table-condensed'>
  <thead>
    <tr>
      <th>Instructor Last Name</th>
      <th>Instructor First Name</th>
      <th>Phone</th>
      <th>Parent Last Name</th>
      <th>Parent First Name</th>
      <th>Phone</th>
      <th>Student</th>
      <th>Submitted</th>
      <th>Claimed</th>
      <th>Completed</th>
    </tr>
  </thead>
  <tbody>
    <% @admin_index.each do |private_lesson| %>
      <tr>
        <% if private_lesson.user %>
          <td>
            <%= link_to private_lesson.user.last_name, private_lesson.user %>
          </td>
          <td><%= private_lesson.user.first_name %></td>
          <td><%= private_lesson.user.phone_number %></td>
        <% end %>
        <td><%= private_lesson.parent_first_name %></td>
        <td><%= private_lesson.parent_last_name %></td>
        <td><%= private_lesson.phone_number %></td>
        <td>
          <% if private_lesson.participants.first %>
            <%= link_to private_lesson.participants.first.first_name, private_lesson %>
          <% end %>
        </td>
        <td><%= private_lesson.created_at.strftime('%-m/%-d/%Y') %></td>
        <td><%= private_lesson.updated_at.strftime('%-m/%-d/%Y') %></td>
        <td></td>
      </tr>
    <% end %>
  </tbody>
</table>


<table class='table table-hover table-condensed' >
  <thead>
    <tr>
      <th>
        <a href="" ng-click="predicate.value = 'participants.last_name'; reverse=!reverse">
        Instructor</a>
      </th>
      <th>
        <a href="" ng-click="predicate.value = 'participants.age'; reverse=!reverse">
        Phone</a>
      </th>
      <th>
        <a href="" ng-click="predicate.value = 'participants.sex'; reverse=!reverse">
        Parent</a>
      </th>
      <th>
        <a href="" ng-click="predicate.value = 'time'; reverse=!reverse">
        Phone</a>
      </th>
      <th>
        <a href="" ng-click="predicate.value = 'preferred_location'; reverse=!reverse">
        Student</a>
      </th>
      <th>
        <a href="" ng-click="predicate.value = 'created_at'; reverse=!reverse">
        Submitted</a>
      </th>
      <th>
        <a href="" ng-click="predicate.value = 'created_at'; reverse=!reverse">
        Claimed</a>
      </th>
      <th>
        <a href="" ng-click="predicate.value = 'created_at'; reverse=!reverse">
        Completed</a>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat='lesson in privateLessons | orderBy:predicate.value:reverse | filter:locationFilter | filter:search'>
        <td>
          <div ng-repeat='participant in lesson.participants'>
            <a ng-href='#'>
              {{participant.last_name}} <br/>
            </a>
          </div>
        </td>
        <td>
          <div ng-repeat='participant in lesson.participants'>
            {{participant.first_name}} <br/>
          </div>
        </td>
        <td>
          <div ng-repeat='participant in lesson.participants'>
            {{participant.age}}
          </div>
        </td>
        <td>
          <div ng-repeat='participant in lesson.participants'>
            {{participant.sex}}
          </div>
        </td>
      </div>

      <td>{{lesson.day}}</td>
      <td>{{lesson.time}}</td>
      <td class='hidden-xs'>{{lesson.location.name}}</td>
      <td>{{lesson.created_at | date:'M/d/yy h:mm a'}}</td>
    </tr>
  </tbody>
</table>
