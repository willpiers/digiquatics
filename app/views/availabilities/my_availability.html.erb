<%= provide(:title, 'My Availability') %>
<div ng-controller='AvailabilityCtrl'>
  <h1>My Availability</h1>
  <table class='table table-bordered print-schedule-font'>
    <thead>
      <tr>
        <th class='lessons_table_cell'>
          Sunday
        </th>
        <th class='lessons_table_cell'>
          Monday
        </th>
        <th class='lessons_table_cell'>
          Tuesday
        </th>
        <th class='lessons_table_cell'>
          Wednesday
        </th>
        <th class='lessons_table_cell'>
          Thursday
        </th>
        <th class='lessons_table_cell'>
          Friday
        </th>
        <th class='lessons_table_cell'>
          Saturday
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <div ng-repeat="avail in availabilities | orderBy:'start_time' | filter: { day: 0 }">
            <%= render 'shifts/week_views/week_view_availability' %>
          </div>

          <div class='shift';
            ng-click="open(user, 0)"
            data-hover='Add Availability'>
          </div>
        </td>

          <td>
            <div ng-repeat="avail in availabilities | orderBy:'start_time' | filter: { day: 1 }">
              <%= render 'shifts/week_views/week_view_availability' %>
            </div>

            <div class='shift';
              ng-click="open(user, 1)"
              data-hover='Add Availability'>
            </div>
          </td>

          <td>
            <div ng-repeat="avail in availabilities | orderBy:'start_time' | filter: { day: 2 }">
              <%= render 'shifts/week_views/week_view_availability' %>
            </div>

            <div class='shift';
                 ng-click="open(user, 2)"
                 data-hover='Add Availability'>
            </div>
          </td>

          <td>
            <div ng-repeat="avail in availabilities | orderBy:'start_time' | filter: { day: 3 }">
              <%= render 'shifts/week_views/week_view_availability' %>
            </div>

            <div class='shift';
                 ng-click="open(user, 3)"
                 data-hover='Add Availability'>
            </div>
          </td>

          <td>
            <div ng-repeat="avail in availabilities | orderBy:'start_time' | filter: { day: 4 }">
              <%= render 'shifts/week_views/week_view_availability' %>
            </div>

            <div class='shift';
                 ng-click="open(user, 4)"
                 data-hover='Add Availability'>
            </div>
          </td>

          <td>
            <div ng-repeat="avail in availabilities | orderBy:'start_time' | filter: { day: 5 }">
              <%= render 'shifts/week_views/week_view_availability' %>
            </div>

            <div class='shift';
                 ng-click="open(user, 5)"
                 data-hover='Add Availability'>
            </div>
          </td>

          <td>
            <div ng-repeat="avail in user.availabilities | orderBy:'start_time' | filter: { day: 6 }">
              <%= render 'shifts/week_views/week_view_availability' %>
            </div>

            <div class='shift';
              ng-click="open(user, 6)"
              data-hover='Add Availability'>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
</div>
